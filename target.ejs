<% if ('name' in locals) { %>
<h3><%= name %></h3>
<% } %>

<% if ('description' in locals) { %>
<p><%= description %></p>
<% } %>

<% if ('fields' in locals) { fields.forEach(function (field) { %>
<label>
  <%= field %>:
  <input type="text" placeholder="<%= field %>" name="<%= field.toLowerCase() %>" required>
</label>
<% }); } %>

<% if ('selects' in locals) { selects.forEach(function (select) { %>
<label>
  <%= select.name %>
  <select name="<%= select.name.toLowerCase() %>">
    <% if (select.options) select.options.forEach(function (option) { %>
    <option value="<%= option.value || option.name %>">
      <%= option.name %>
    </option>
    <% }); %>
  </select>
</label>
<% }); } %>

<% if (!('fields' in locals || 'selects' in locals)) { %>
<label>
  Module name:
  <input type="text" name="package" placeholder="package name" />
</label>
<% } %>


<% if ('name' in locals) { %>
<button type="submit" name="add" value="<%= name %>">Add</button>
<% } else { %>
<button type="submit" name="add" value="subscribe">Subscribe</button>
<% } %>
